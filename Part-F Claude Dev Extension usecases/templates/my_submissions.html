{% extends "base.html" %}

{% block title %}My Submissions{% endblock %}

{% block content %}
<h2>My Submissions</h2>
<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Language</th>
            <th>Submitted At</th>
            <th>Score</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for submission in submissions %}
        <tr>
            <td>{{ submission.id }}</td>
            <td>{{ submission.language }}</td>
            <td>{{ submission.created_at.strftime('%Y-%m-%d %H:%M:%S') }}</td>
            <td>{{ submission.score }}</td>
            <td>
                <a href="{{ url_for('code_analysis', submission_id=submission.id) }}" class="btn btn-primary btn-sm">View Analysis</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% if not submissions %}
<p>You haven't made any submissions yet.</p>
{% endif %}
<a href="{{ url_for('submit_code') }}" class="btn btn-success">Submit New Code</a>
{% endblock %}